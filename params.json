{"name":"Ow2mirror-gem","body":"# Ow2mirror::Gem\r\n\r\nMirror OW2 Gitorious repositories to Github.com organization\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'ow2mirror-gem'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install ow2mirror-gem\r\n\r\n## Configure\r\n\r\nFor now, this module clones public source repositories and push to authenticated repositories. It has been initially\r\ndeveloped to clone repositories from a gitorious instance running on OW2.org and push these repositories to Github.\r\n\r\nAs a limitation, user have to configure its system and git credentials according to the target system (github in the example).\r\n\r\n## Usage\r\n\r\nOw2mirror comes with a binary used to create required resources and update repositories.\r\n\r\n- 'ow2mirror install' : Creates all the required resources in the local folder\r\n- 'ow2mirror create'  : Creates a new mirror (clone the source). This will ask you to give sources and destination informations\r\n- 'ow2mirror mirror'  : Launches a mirror task which will get changes (fetch) from sources and put them (push) to destinations\r\n\r\n### Create a workspace\r\n\r\nWorkspaces aggregates several mirrors which are potentially coming from different sources. The workspace stores project information, reports, logs, ...\r\nYou can create as many reports as needed acording to your usage. For example, the mirror command will got through all the projects, so creating multiple workspaces can be useful...\r\n\r\nCommand : 'ow2mirror new'\r\n\r\n### Create a new mirror\r\n\r\nCommand : 'ow2mirror create'\r\n\r\nThis will get the projects and repositories from the source instance ask several questions:\r\n - <project> is the project name from the source instance\r\n - <repositories> a list of available repositories from the selected project\r\n - <target-prefix> is the target repository prefix name i.e. to differentiate the repositories in the organisation we need to prefix them.\r\n    Short names are better as prefix...\r\n\r\nThe create task will create a <project> folder in the mirror folder and will clone all the required stuff. Add git remote and push things.\r\nIt also creates a JSON report file in this folder to keep traces: <project>.json\r\n\r\nThe create operation does the following git operations:\r\n\r\n 1. Clone the source repository: 'git clone --bare --mirror REPO.git'\r\n 2. Add the destination repository as remote 'git remote add github git@github.com:USER/REPO.git'\r\n\r\n### Update a mirror\r\n\r\nCommand : 'ow2mirror mirror'\r\n\r\nWill retrieve all the projects from the current runtime and call all the required git operation to pull from sources and push to destination.\r\nIt internally does the following git operations:\r\n\r\n1. Fetch from source repository : git fetch --quiet origin\r\n2. Push to destination repository : git push --quiet github\r\n\r\n## Folders\r\n\r\nThe mirror engine stores git data and additional configuration files into folders. In order to run several mirrors on the same host, the structure is organized as:\r\n\r\n- mirror.conf\r\n  \\_ project A\r\n     \\_ project.json\r\n      _ repos.json\r\n      _ repository 1\r\n      _ repository 2\r\n  \\_ project B\r\n     \\_ project.json\r\n      _ repos.json\r\n      _ repository 1\r\n      _ repository 2\r\n      _ repository 3\r\n\r\n## Limitations\r\n\r\nTODO\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Added some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","tagline":"A Ruby Gem to mirror git repositories","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}